<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Player - 給最愛的妳</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- 強力除錯腳本：若有錯誤直接顯示在螢幕上 -->
    <script>
        window.onerror = function(message, source, lineno, colno, error) {
            const errorBox = document.getElementById('debug-error-box');
            if(errorBox) {
                errorBox.style.display = 'block';
                errorBox.innerHTML += `<p>❌ <strong>錯誤:</strong> ${message}<br><small>檔案: ${source} (第 ${lineno} 行)</small></p>`;
                // 強制關閉 Loading 以便查看錯誤
                document.getElementById('loader').style.display = 'none';
            }
        };
    </script>
    <style>
        #debug-error-box {
            display: none;
            position: fixed; top: 0; left: 0; width: 100%;
            background: rgba(180, 0, 0, 0.9); color: white;
            padding: 20px; z-index: 10000; font-size: 14px;
            box-sizing: border-box; overflow-y: auto; max-height: 50vh;
        }
    </style>
</head>
<body>

    <!-- 錯誤顯示區 -->
    <div id="debug-error-box"></div>

    <!-- 載入中遮罩 -->
    <div id="loader">
        <div class="loader-content">
            <div class="spinner"></div>
            <p>正在準備驚喜...</p>
        </div>
    </div>

    <audio id="audio-player"></audio>

    <div class="app-container">
        <section id="stage-area">
            <div id="welcome-view" class="active">
                <div class="welcome-text">
                    <h1>Happy Wedding</h1>
                    <p>請從列表選擇一則祝福播放</p>
                </div>
            </div>
            <div class="vinyl-wrapper" id="vinyl-view">
                <div class="vinyl-record" id="vinyl-disk">
                    <div class="album-cover-mask">
                        <img src="" class="album-cover" id="album-cover">
                    </div>
                </div>
            </div>
            <div class="video-wrapper" id="video-view">
                <video id="video-player" controls playsinline></video>
            </div>
            <div class="stage-caption" id="stage-info">
                <h2 id="current-name"></h2>
                <div id="current-msg" style="display:none;"></div>
            </div>
        </section>

        <section id="playlist-area">
            <div class="playlist-header">
                <h3>祝福列表</h3>
                <span id="count-badge">0</span>
            </div>
            <div id="playlist-content"></div>
        </section>
    </div>

    <!-- 依序載入 -->
    <script src="js/data.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
